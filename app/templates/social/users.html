{% extends "social/base.html" %}
<<<<<<< HEAD

{% block title %}Follow Users{% endblock %}
{% block icon %}<link rel="icon" href="{{ url_for('static', filename='images/favicons/user-group.svg') }}?v={{ timestamp }}" type="svg+xml">{% endblock %}

=======
{% block title %}Follow Users - Vision Toolkit{% endblock %}
>>>>>>> main
{% block page_header %}Follow{% endblock %}
{% block page_subheader %}If accepted, you will see their posts on your feed.{% endblock %}

{% block social_content %}

<div class="row">
  <div class="col-md-6">
    <h2>Discover Users</h2>
    <ul class="list-group">
      <li class="list-group-item">
        <form method="get" action="{{ url_for('list_users') }}" class="mb-3">
          <input type="text" name="search" class="form-control" placeholder="Search users..."
            value="{{ request.args.get('search', '') }}">
        </form>
      </li>
      {% for user, status in user_statuses %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ user.username }}
        <form method="post" action="{{ url_for('send_follow_request', user_id=user.id) }}">
          {% if status == -1 %}<button type="submit" class="btn btn-primary btn-sm">Follow</button>
          {% elif status == 0 %}<button type="button" class="btn btn-warning btn-sm" disabled>Requested</button>
          {% elif status == 1 %}<button type="button" class="btn btn-success btn-sm" disabled>Following</button>
          {% endif %}
        </form>
      </li>
      {% else %}
      <li class="list-group-item">No other users to follow.</li>
      {% endfor %}
    </ul>
    <a href="{{ url_for('inbox') }}" class="btn btn-primary btn">Manage your follow requests</a>
  </div>
  <div class="col-md-6">
    <h2>Your Followers</h2>
    <ul class="list-group mb-4">
      {% for follower in followers %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ follower.username }}
        <form method="post" action="{{ url_for('remove_follower', user_id=follower.id) }}">
          <button type="submit" class="btn btn-outline-danger btn-sm">Remove</button>
        </form>
      </li>
      {% else %}
      <li class="list-group-item">You currently have no followers.</li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}